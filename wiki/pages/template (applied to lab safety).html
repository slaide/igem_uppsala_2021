{{IGEM_TopBar}}
<html lang="en">
    <head>
        <style real-href="remove_presets.css">
            .top_bar{
                display:none;
                height:0px;
            }
            .igem_column_wrapper{
                width:auto;
                max-width:none;
            }
            #globalWrapper{
                padding-bottom:0;
            }
            .igem_content_wrapper .igem_column_wrapper a,.igem_content_wrapper .igem_column_wrapper a:hover{
                font-weight: initial;
                text-decoration-color: initial;
                transition: initial;
                -webkit-transition: initial;
                -moz-transition: initial;
                -ms-transition: initial;
                -o-transition: initial;
            }
        </style>
        <style purpose="global">
            #globalWrapper {padding-bottom:0px;}

            @font-face {
                font-family: UL;
                src: url("https://2021.igem.org/wiki/images/5/56/T--Uppsala--Ubuntu-Light.ttf");
                src: url("./T--Uppsala--Ubuntu-Light.ttf");
            }

            @font-face {
                font-family: UM;
                src: url("https://2021.igem.org/wiki/images/d/db/T--Uppsala--Ubuntu-Medium.ttf");
                src: url("./T--Uppsala--Ubuntu-Medium.ttf");
            }

            *{
                margin:0;
                border:0;
                padding:0;
                font-family: sans-serif;
            }

            a,a:visited{
                text-decoration: none;
                color: #6d1d23;
            }
            a:hover{
                text-decoration: underline;
                color: #426968;
            }

            body, html{
                height: 100%;
                width: 100%;
                scroll-behavior: smooth;
            }

            hr{
                height: 1px;
                background-color: #6d1d23;
                display: block;
                width: auto;
                margin-top: 2vh;
                margin-bottom: 2vh;
            }
            .blurred_image_overlay,.blurred_navigation_bar_open{
                filter:blur(15px);
            }
        </style>
        <style purpose="header section and content container">
            #pagecontent{
                display: grid;

                grid-template-rows:calc(5vh + 50vh + 16px) auto;
                grid-template-columns: 1fr 1fr 4fr 2fr;
                background-color: #dce1de;
            }

            #parallaxtop {
                background-image: url(https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fdam%2Fimageserve%2F1163531587%2F960x0.jpg%3Ffit%3Dscale);
                height: calc(50vh + 5vh);
                background-attachment: fixed;
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
                overflow: hidden;

                grid-row: 1 / 2;
                grid-column: 1 / 5;
            }

            #page_header{
                display:inline-block;
                position:relative;
                width:auto;
                height:auto;
                left:50%;
                top:calc( 50vh /2 + 5vh);
                transform:translate(-50%,-50%);

                text-align: center;
                font-size: 6em;
                color: #6d1d23;
                font-family: UM, sans-serif;
            }
        </style>
        <style purpose="sidebar">
            #sidebar {
                display:block;
                position:relative;

                width: 100%;

                margin-top:5vh;
                margin-left:1vh;
                margin-right:1vh;

                font-size: 2vh;
                font-weight:600;

                grid-row: 2 / 3;
                grid-column: 1 / 2;
            }
            #sticky_sidebar{
                top:calc( 16px + 5vh);
                position:sticky;
            }
            #sidebar_header{
                padding-top:2vh;
                font-size:3.5vh;
                font-family: UM;
            }
            #sidebar a{
                color:#6d1d23;
                font-weight:bold;
            }
            #sidebar :hover{
                color:#426968; 
            }
            #sidebar_list_container{
                margin:0;
                padding:0;
                margin-left:1vw;
                width:calc(100% - 1vw);
                line-height: 1;
            }
            .sidebar_list_section{
                display:block;
                width:calc(100% - 2vh);
                
                color:#6d1d23;

                margin-bottom: 2.2vh;

                transition: all 0.2s;

                font-family: UL;
            }
            .sidebar_list_section a{
                font-size: 2vh;
            }
            .sidebar_list_section.current_section{
                /* #6d1d23 */
                border-left:1vh solid rgba(109,29,35,0.9);
                padding-left:1vh;
            }
            .sidebar_list_section span:hover{
                color:#426968;
            }
            .listsidebar{
                margin-top: 0px;
                padding:0;
                width: 100%;
                background-color: #dce1de;
                height: 100%;
            }
        </style>

        <style purpose="text/main section and pre-defined styles for user-writable code">
            /* Actual content */
            #fgfuture_content{
                background-color: #dce1de;

                margin-top: 3.6vh;

                font-family: UL; 

                grid-row: 2 / 3;
                grid-column: 3 / 4;
            }

            #fgfuture_content h1{
                color:#6d1d23;
                font-family: UM, sans-serif;
                font-size: 3vh;
            }
            #section1,#section2,#section3{
                display:block;
                position:relative;

                height:auto;
                width:100%;

                /* extend section, to include floating children (like images) */
                overflow:auto;
            }
            #section1_link,#section2_link,#section3_link{
                position:absolute;
                top:-200px;
            }

            div.image{
                /* make space for text around the image */
                display:inline-block;
                padding-bottom: 1vh;
            }
            .igem_column_wrapper div.image>p,div.image>p{
                font-size: 1.2vh;
                padding-top: 1vh;
                padding-left: 0.5vh;
                padding-right: 0.5vh;
                text-align: justify;
            }
            /* make image float so that text can wrap around it */
            div.image.left{
                float:left;
                padding-right:2vh;
            }
            div.image.right{
                float:right;
                padding-left:2vh;
            }
            div.quarter{
                width:25%;
            }
            div.half{
                width:50%;
            }
            
            /* styling applies to all text within the content area that is not a header */
            #fgfuture_content > div > p{
                font-family: sans-serif;
                font-size: 1.5vh;
                padding-bottom: 2vh;
                line-height: 1.5;
            }
            /* make sure images have expected size (the actual size specifications apply to their container, not themself) */
            #fgfuture_content div > img{
                width:100%;
                height:auto;
            }



            /* TEXT*/
            .midcontenttext{
                text-align: left;
                font-size: 1.1em;
                margin-top: 3.2vh;
            }

            /*HEADERS*/
            .midcontenttext > h1{
                font-size: 2em;
                color:#6d1d23;
                text-align: center;
                font-family: UM;
                border: none;
            }
            .midcontenttext > h2{
                font-size: 1.5em;
                color: black;
                text-align: center;
                font-family: UM;
                border:none;
                margin-top: 3vh;
            }

            .midcontenttext > h3{
                font-size: 1.2em;
                color: black;
                text-align: center;
                font-family: UL;
                border:none;
                margin-top: 3vh;
            }
            /* NORMAL PARAGRAPH*/
            .midcontenttext >p{
                font-weight:normal;
                font-size:1em;
                color:black;
                line-height:1.8;
                letter-spacing:0.05em;
                margin-top: 3vh;
            }

            /* 
            WHEN ADDING THE PICTURE DIV
            DEFINE ITS WIDTH IN THE HTML SECTION TO MAKE THE IMG THE RIGHT SIZE
            EX   ->
            <div class="divrightpicture" style="width:30vw;">
            */
            .divrightpicture{
                float: right;
                margin-top: 3vh;
                margin-left: 2vw;
                margin-right: 2vw;
                margin-bottom: 0;
            }

            .divrightpicture > p{
                font-weight:normal;
                text-align: left;
                font-size:0.9em;
                color:black;
                line-height:1.2;
                letter-spacing:0.05em;
            }

            .divrightpicture > img{
                width: 100%;
                cursor: zoom-in;
            }

            .divmidpicture{
                margin-top: 3vh;
                margin-left: 50%;
                transform: translateX(-50%);
                margin-bottom: 0;
            }

            .divmidpicture > p{
                font-weight:normal;
                text-align: left;
                font-size:0.9em;
                color:black;
                line-height:1.2;
                letter-spacing:0.05em;
                margin-bottom: 2vh;
            }

            .divmidpicture > img{
                width: 100%;
                cursor: zoom-in;
            }

            .divleftpicture{
                float: left;
                margin-top: 3vh;
                margin-left: 2vw;
                margin-right: 2vw;
                margin-bottom: 0;
            }

            .divleftpicture > p{
                font-weight:normal;
                text-align: left;
                font-size:0.9em;
                color:black;
                line-height:1.2;
                letter-spacing:0.05em;
            }

            .divleftpicture > img{
                width: 100%;
                cursor: zoom-in;
            }

            /* For tables */
            table {
                font-family: arial, sans-serif;
                border-collapse: collapse;
                width: 100%;
            }

            td, th {
                border: 1px solid #dddddd;
                text-align: left;
                padding: 8px;
            }

            tr:nth-child(even) {
                background-color: #dddddd;
            }
        </style>

        <style purpose="sponsors">
            /* Sponsor part*/
            .flexbox-container-socialmedia{
                width: auto;
                height: 25vh;
                display: flex;
                flex-direction: row;
                overflow: hidden;
                background-color: #426968;
                justify-content: center;
            }


            .flexbox-container-socialmedia > div > img:not(img.upplogo){
                margin-left: 3vw;
                margin-right: 3vw;
                filter: grayscale(50%);
                margin-top: 7vh;
                width: 4vw;
            }

            .flexbox-container-socialmedia > div > img:not(img.upplogo):hover{
                filter:grayscale(0);
                filter: brightness(130%);
                filter: contrast(150%);

            }

            img.upplogo{
                width: 10vw;
                margin-top: 3vh;
                margin-left: 3vw;
                margin-right: 3vw;
            }
        

            .grid-container-sponsors{
                width: auto;
                height: 30vh;
                display: grid;
                grid-template-columns:repeat(6,1fr);
                grid-template-rows:repeat(2,1fr);
                overflow: hidden;
                background-color: #426968;
            }


            .grid-container-sponsors > div > img{
                margin-left: 50%;
                margin-top: 7vh;
                transform: translateY(-50%);
                transform: translateX(-50%);
                width: 7vw;
                filter: grayscale(50%);
            }

            .grid-container-sponsors > div > img:hover{
                filter:grayscale(0);
                filter: brightness(130%);
                filter: contrast(150%);
            }
            
        </style>

        <script purpose="general purpose functions">
            function and(a,b){return (a+b)==2}
            function min(a,b){return (a<b)?a:b}
            function max(a,b){return (a>b)?a:b}

        </script>

        <!-- cross-page navigation bar -->
        <style real-href="navigation_bar">
            /*navigation bar*/
            #navigation_bar{
                top:16px;
                height:5vh;

                position:fixed;
                width:100%;

                z-index:9;

                display:grid;
                /* left grid element has height 100% (5vh), and to contain the logo, the width needs to be calculated from the image's aspect ratio, with a width of 87px and height of 65px, the rest is math */
                --logo-width: calc(5vh * 87.1333 / 65.35 );
                grid-template-columns: var(--logo-width) calc(100% - var(--logo-width));
                grid-template-rows: 100%;
            }

            /* a elements when not hovering*/
            a.dropbtn,.navigation_dropdown_entry,.igem_content_wrapper .igem_column_wrapper a{
                font-family: sans-serif;
                transition: 0.1s;
                font-weight: normal;
                color:black;
                text-decoration: none;
            }
            .dropdown_content > a{
                color:black;
            }
            a.dropbtn{
                font-size: 2.5vh;
            }
            /* override default link highlighting */
            #navigation_bar a:not(:hover){
                text-decoration: none;
            }
            /* a elements when hovering (override color and underline) */
            #navigation_bar a:hover{
                color:#6d1d23;
                text-decoration: underline;
                /* reset igem bs */
                font-weight: bold;
            }

            /* navigation bar logo on left */
            /* img container */
            #navigation_bar_logo_container{
                height:calc(5vh - 1px);

                border-bottom: 1px solid black;
                border-right: 1px solid black;
            }
            /* set own background color to still have background when rest of navigation bar vanishes while scrolling */
            #navigation_bar_logo_container,.logotype{
                background-color: #dce1de;
            }
            /* actual logo inside container */
            #navigation_bar_logo_container > img{
                height:100%;
            }

            /* container for dropdown menus on right side of navigation bar */
            #dropdown-container{
                display:grid;
                height:calc( 5vh - 1px);

                grid-template-columns: repeat(6,1fr);
                grid-template-rows: 100%;
                
                /* manually transition background-color to preserve left/right padding background while the navigation menus vanish during scrolling */
                transition: 0s background-color 1s;

                /* reset igem bs */
                padding:0;
                margin:0;

                /* then set my own padding */
                padding-left: 10%;
                padding-right: 10%;

                overflow:hidden;
            }
            /* while either scrolling, or hovering mouse over the navigation menu area, show the menu overview */
            #dropdown-container.scrolled_down,#dropdown-container.panel_opened{
                border-bottom: 1px solid black;

                background-color: #dce1de;
                
                transition: 0s background-color 0s;
            }
            /* only while the panel is open (via mouse hover), show the extended menus, which include the links to other pages */
            #dropdown-container.panel_opened{
                overflow:visible;
            }
            /* animate shrinking dropdown menus' height to 0 when scrolling down and not hovering the mouse over the navigation area */
            #dropdown-container:not(.scrolled_down):not(.panel_opened) .dropdown{
                height:0vh;
                transition: 1s height;
            }
            #dropdown-container:not(.scrolled_down):not(.panel_opened) .dropdown{
                height:0vh;
                transition: 1s height;
                border-bottom:0;
            }
            /* because overflow:hidden does not work, make the navigation menu headlines (.dropbtn) see-through when scrolling down and not hovering over the navigation area */
            #dropdown-container:not(.scrolled_down):not(.panel_opened) .dropbtn{
                opacity:0;
                transition: 0.2s opacity 0.8s;
            }
            /* when not hovering over the navigation area, make all links see-through, that are not headlines (i.e. only the menu entries) */
            #dropdown-container:not(.panel_opened) a:not(.dropbtn){
                opacity:0;
            }
            /* dropdown menus (containers) */
            .dropdown{
                display:block;
                height:35vh;
                background-color: #dce1de;
                border-bottom:1px solid black;
                overflow:visible;
            }
            /* add border on left and right side of navigation SUB-menus (not all around menu, which would include borders crossing through the navigation bar itself) */
            .dropdown:first-child .dropdown_content{
                border-left:1px solid black;
            }
            .dropdown:last-child .dropdown_content{
                border-right:1px solid black;
            }
            /* to disable mouse-hover javascript events on see-through links below navigation bar, effectively remove them (except not really) */
            #dropdown-container:not(.panel_opened) .dropdown_content{
                display:none;
            }
            /* header of dropdown menus (containing name of each category) */
            .dropbtn{
                display:block;
                position:absolute;

                text-decoration: none;

                top:calc( 2.5vh);
                transform:translateY(-50%);
            }
            /* override text color of all links inside dropdown menu when hovering over the menu */
            .dropdown.hovering_over a{
                color:#6d1d23;
                font-weight: bold;
            }
            /* container for links inside dropdown menu */
            .dropdown_content{
                position:absolute;
                /* .dropdown's 35vh height - 5vh offset from top*/
                height:30vh;

                font-size: 2vh;

                top:5vh;

                --logo-width: calc(5vh * 87.1333 / 65.35 );
                width:calc( (100% - var(--logo-width) ) * 0.8 / 6);
            }
            /* individual link inside dropdown menu */
            .dropdown_content > a{
                display:block;
                padding-left:10%;
                padding-bottom:1vh;
                padding-top:1vh;
            }
            /* individual link inside dropdown menu on hover (underline) */
            .dropdown_content > a:hover{
                text-decoration:underline;
            }

            /* highlighting of current topic in dropdown */
            .current_topic{
                font-style: italic;
                font-weight: bolder;
                font-size: 2.2vh;
            }
        </style>
        <script purpose="internal_open_close_navbar">
            function open_navbar(){
                document.getElementById("navigation_bar").classList.add("fully_open")
                document.getElementById("pagecontent").classList.add("blurred_navigation_bar_open")
                //this is broken. blurring the main element makes the scrolly things lose their position setting
                for(element of document.getElementsByClassName("scroll_thing")){
                    element.style.setProperty("filter","blur(15px)")
                }
            }
            function close_navbar(){
                document.getElementById("navigation_bar").classList.remove("fully_open")
                document.getElementById("pagecontent").classList.remove("blurred_navigation_bar_open")
                //this is broken. blurring the main element makes the scrolly things lose their position setting
                for(element of document.getElementsByClassName("scroll_thing")){
                    element.style.setProperty("filter","initial")
                }
            }

            /* open/close navigation bar while scrolling */
            window.addEventListener("wheel",(ev)=>{
                if(ev.deltaY>0){
                    document.getElementById("dropdown-container").classList.remove("scrolled_down")
                }else{
                    document.getElementById("dropdown-container").classList.add("scrolled_down")
                }
            })
        </script>

        <!-- cross-page loading styling and code -->
        <style purpose="loading screen">
            #loading_overlay{
                position:fixed;
                height:calc( 100vh - 16px);
                width:100%;
                background-color: #d9dfda;
                top:16px;
                z-index:11;
            }
            #loading_icon{
                height:50%;
                width:auto;
                position:absolute;
                left:50%;
                top:50%;
                transform:translate(-50%,-50%);
            }
            #loading_icon > img{
                height:100%;
                width:auto;
            }
        </style>
        <script purpose="on_load_code">
            /*
            clean up the existing stuff that is nothing but in the way of our page design (top bar with igem logo and navigation panel hidden behind a burger menu, and quite thick padding on the left and top of the screen)
            */

            function hide_igem_bs(){
                let element=document.getElementsByClassName("top_bar")[0]
                if(element){
                    element.classList.remove("top_bar")
                    element.style="display:none;"
                }
                for(class_name of "clear extra_space".split(" ")){
                    for(element of document.getElementsByClassName(class_name)){
                        element.classList.remove(class_name)
                    }
                }

                let navigation_bar_list=document.getElementById("navigation_bar_list")
                if(navigation_bar_list){
                    if(navigation_bar_list.style.getPropertyValue("display")=="none"){
                        navigation_bar_list.style=undefined
                    }
                    for(child of navigation_bar_list.children){
                        child.classList.remove("current_hub")
                        child.classList.remove("current_page")
                        child.style=undefined
                    }
                }
                for(dropdown of document.getElementsByClassName("dropdown")){
                    dropdown.style=""
                }
                //disable the 'p' at the end of the column wrapper content which is just blank white space at the bottom of the page for some reason
                let igem_column_wrappers=document.getElementsByClassName("igem_column_wrapper")
                for(igem_column_wrapper of igem_column_wrappers){
                    igem_column_wrapper.lastElementChild.style.display="none"
                }
            }

            function on_load(){
                hide_igem_bs()

                //after the page has loaded, provide some additional time for all of the javascript to run, then actually remove the loading screen overlay
                setTimeout(()=>{
                    hide_igem_bs()
                    setTimeout(()=>{
                        document.getElementById("loading_overlay").style="display:none;"
                    },200)
                },1000)

                /* get_section_offsets-specific reset */
                base=null;
                get_section_offsets()
                highlight_current_section_in_sidebar()
                window.addEventListener("scroll",highlight_current_section_in_sidebar)
            }
        </script>
    </head>
    <body onload="on_load()" onresize="on_load()">
        <!-- cross-page loading screen -->
        <div id="loading_overlay">
            <div id="loading_icon">
                <img src="https://2021.igem.org/wiki/images/7/76/T--Uppsala--logo_animated.gif">
                <div style="font-size:3vh;text-align:center;padding-top:4vh;font-family: sans-serif;">LOADING</div>
            </div>
        </div>
        <div id="image_overlay" class="invisible">
            <div style="height:100px;width:100px;background-color:red;float:right;" onclick="collapse_image()"></div>
        </div>
        <!-- cross-page Navigation Menu with drop down -->
        <div id="navigation_bar" onmouseenter="open_navbar()" onmouseleave="close_navbar()">
            <a id="navigation_bar_logo_container" href='https://2021.igem.org/Team:Uppsala'>
                <img class="logotype" src="https://2021.igem.org/wiki/images/thumb/1/13/T--Uppsala--logotransparent.png/320px-T--Uppsala--logotransparent.png">
            </a>
            <ul id="dropdown-container" class="scrolled_down">
                <li class="dropdown">
                    <a href="https://2021.igem.org/Team:Uppsala/Description" class="dropbtn">Project</a>
                    <div class="dropdown_content">
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Description">Description</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Proof_Of_Concept">Proof of Concept</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Engineering">Engineering Success</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Contribution">Contribution</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="https://2021.igem.org/Team:Uppsala/Results" class="dropbtn">Experiments</a>
                    <div class="dropdown_content">
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Results">Results</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Model">Modeling</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Notebook">Notebook</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Parts">Parts</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Safety">Safety</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="https://2021.igem.org/Team:Uppsala/Human_Practices" class="dropbtn">Human Practice</a>
                    <div class="dropdown_content">
                        <a href="https://2021.igem.org/Team:Uppsala/Human_Practices">Overview</a>
                        <a href="https://2021.igem.org/Team:Uppsala/Human_Practices">Integrated Human Practice</a>
                        <a href="https://2021.igem.org/Team:Uppsala/Implementation">Proposed Implementation</a>
                        <a href="https://2021.igem.org/Team:Uppsala/Education">Education</a>
                        <a href="https://2021.igem.org/Team:Uppsala/Inclusivity">Inclusion</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="https://2021.igem.org/Team:Uppsala/Team" class="dropbtn">People</a>
                    <div class="dropdown_content">
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Team">Team</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Collaborations">Collaboration</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Attributions">Attribution</a>
                        <a class="navigation_dropdown_entry" href="https://2021.igem.org/Team:Uppsala/Attributions">Sponsors</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropbtn">Videos</a>
                    <div class="dropdown_content">
                        <a href="https://2021.igem.org/Team:Uppsala/Description">Final Presentation</a>
                        <a href="https://www.youtube.com/watch?v=avKlAK5-1ks">Promotional Video</a>
                        <a href="https://2021.igem.org/Team:Uppsala/Model">Molecular Dynamics</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropbtn">Judging</a>
                    <div class="dropdown_content">
                        <a class="navigation_dropdown_entry" href="#">Judging Form</a>
                        <a class="navigation_dropdown_entry" href="#">Awards</a>
                    </div>
                </li>
            </ul>
            <script purpose="dropdown_open_close">
                for(dropdown of document.getElementsByClassName("dropdown")){
                    dropdown.addEventListener("mouseenter",function(ev){
                        function remove_hovering_highlighting(ev){
                            ev.target.removeEventListener("mouseleave",remove_hovering_highlighting)
                            ev.target.classList.remove("hovering_over")
                        }
                        ev.target.classList.add("hovering_over")
                        ev.target.addEventListener("mouseleave",remove_hovering_highlighting)
                    })
                }
                document.getElementById("navigation_bar").addEventListener("mouseenter",(ev)=>{
                    ev.target.children[1].classList.add("panel_opened")
                    ev.target.children[1].classList.add("scrolled_down")
                })
                document.getElementById("navigation_bar").addEventListener("mouseleave",(ev)=>{
                    ev.target.children[1].classList.remove("panel_opened")
                })
            </script>
            <script purpose="highlight_current_topic_in_navbar">
                function highlight_current_topic_in_navbar(){
                    const match_path_text=window.location.pathName || ""
                    const match_path_length=match_path_text.length
                    for(element of document.getElementsByClassName("dropdown_content")){
                        for(child of element.children){
                            //const match_path_text="/Team:Uppsala/Model"
                            if(child.getAttribute("href").substr(-match_path_length)==match_path_text){
                                child.classList.add("current_topic")
                            }
                        }
                    }
                }
            </script>
        </div>

        <div id="pagecontent">
            <!-- page title-->
            <div id=parallaxtop>
                <div id="page_header">
                    Lab Safety
                </div>
            </div>

            <!--Sidebar-->
            <div id="sidebar">
                <div id="sticky_sidebar">
                    <div id="sidebar_header">
                        <a href="#pagecontent">
                            Lab Safety
                        </a>
                    </div>
                    <hr>
                    <ul id="sidebar_list_container">
                        <!-- template for a single entry in this list. the real entries will be added at runtime
                            <li class="sidebar_list_section">
                                <span id="span1">
                                    <a href="#section1_link">
                                        Lab Safety
                                    </a>
                                </span>
                            </li>
                        -->
                    </ul>
                </div>
            </div>

            <!--Actual content-->
            <div id="fgfuture_content">

                <!-- INSERT GOOGLE DOC CONTENT BELOW THIS LINE -->

                <div id="section1">
                    <!-- template for auto-generated span here 
                        <span id="section1_link"></span>
                    -->
                    <h1>Lab Safety</h1>

                    <p>
                        Sharing is caring, especially when it comes to safety knowledge. To make sure that everyone understood and followed the rules needed for a safe-laboratory environment, we organized an introductory week before entering the lab, where the whole team participated in three mandatory activities, a laboratory safety round, a biosafety workshop and a waste disposal course. For the first, fire extinguishers, first aid kits and showers were introduced, as well as emergency exits and chemical room organization. For the second, Good Laboratory Practices (GLP) were explained, along with a practical demonstration of pipetting and safe glove removal techniques.
                    </p>
                    <p>
                        The waste disposal course was held by the safety officer on our campus. The course was composed of a tour around the waste disposal facilities in Uppsala University and a detailed demonstration about the correct labelling and transportations measures for laboratory waste-bins and chemical waste containers. At the end of the tour, each participant was given a diploma allowing them to handle all waste products that were produced in the lab.
                    </p>
                    <div class="image left quarter">
                        <img class="expandable_image" width="1050" height="1050" src="https://images.carriercms.com/image/upload/w_350,h_350,c_scale,dpr_3.0,q_auto,f_auto/v1549711818/kidde/products/fire-extinguishers/kidde-fire-extinguisher-FX340GW-2.jpg">
                        <p>
                            Figure 1. Wow very cool photos, they are the best photos ever taken. This just some text used to fil the page with. I dont really feel like writing Lorem Ipsum for the hundreth time... Damn, need to write some more to see how the text would look lite on two seperate rows. FML.
                        </p>
                    </div>
                    <p>
                        Lab leaders attended an introduction for the handling of the autoclave and the dishwasher. Additionally, the most experienced students organized lessons showing the basic techniques in synthetic biology, as gel casting or working safely under the flame.
                    </p>
                    <p>
                        Our wet lab work was carried in a BSL-1 (Biosafety Level 1) laboratory. Basic PPE (Personal Protective Equipment), including a laboratory coat, protective eyewear and gloves according to indications were enforced. Gloves were discarded immediately after use. For our experiments we used 
                        <span class="popup">
                            <span>Escherichia coli</span>
                            <span class="popup_content">Here is a wikipedia link with more information on this species of bacteria: 
                                <a href="https://en.wikipedia.org/wiki/Escherichia_coli">wikipedia</a>
                            </span>
                        </span>
                        (Strains DH5α, BL21(DE3)) and Bacillus subtilis w168, all included in the iGEM white-list and suited to be handled safely in our installations, without the need of extra protective equipment. Dangerous chemicals were handled in a fume hood.
                    </p>
                    <p>
                        Lab work is often coupled with long and stressful days, which can be a potential hazard on their own. Therefore we made sure to communicate any errors in our routines during group meetings and to remind each other our responsibilities. A special lab-question communication channel in slack was accessible for any questions and concerns. To keep the lab in order, different lab groups rotated between responsibility of cleaning the lab, i.e. taking care of used glassware.
                    </p>
                </div>

                <div id="section2">
                    <h1>Ethics of cultivated meat</h1>
                    
                    <p>
                        Our goal is to modify first the Gram-negative bacteria Escherichia coli and second the Gram-positive Bacillus subtilis so they express the different parts composing the biosensor fusion proteins containing the nanobodies for detection, T7 promoter amplification loop and β-galactosidase as output signal.
                    </p>
                    <div class="image left half">
                        <img class="expandable_image" width="1050" height="1050"  src="https://images.carriercms.com/image/upload/w_350,h_350,c_scale,dpr_3.0,q_auto,f_auto/v1549711818/kidde/products/fire-extinguishers/kidde-fire-extinguisher-FX340GW-2.jpg">
                        <p>
                            Figure 1. Wow very cool photos, they are the best photos ever taken. This just some text used to fil the page with. I dont really feel like writing Lorem Ipsum for the hundreth time... Damn, need to write some more to see how the text would look lite on two seperate rows. FML.
                        </p>
                    </div>
                    <p>
                        When designing the prototype we kept in mind the user and the potential risks leading to releases of the organisms to the environment in mind. Accidents and/or mistakes could happen during the research and development, production, distribution, usage and discard of our biosensor. According to that, we have developed our prototype (see Kit design) and worked accordingly guidelines of our universities regarding safety preconditions in the lab. For our case study “Tuberculosis disease” we have also taken into account possible social concerns and conflicts that could arise upon a stigmatised disease/infection being easily detected (see Human practice).
                    </p>
                    <p>
                        We have assessed the risk of our genetically modified bacteria (GMO) reaching the environment and deem it as relatively low. The proteins and other elements included in the bacteria are naturally occurring, and the fitness cost of carrying all this extra genetic material is likely to lead to bacterial death outside a controlled environment. The antibiotic-resistant genes included in the genome of our bacteria are standard for this kind of research. Further development of the biosensor would entail integrating a kill switch (see Future). Upon actual product development necessary evaluations and risk assessment aimed for different user groups should be carried out.
                    </p>
                    <p>
                        For the whole project we have taken special care regarding ethics concerns in research, by attributing every contribution to its author, either inside or outside the team, as well as asking for permission and double-checking the content before its publication for the latter.
                    </p>
                </div>

                <div id="section3">
                    <h1>COVID-19 measures</h1>

                    <div class="image left quarter">
                        <img class="expandable_image" width="1050" height="1050" src="https://images.carriercms.com/image/upload/w_350,h_350,c_scale,dpr_3.0,q_auto,f_auto/v1549711818/kidde/products/fire-extinguishers/kidde-fire-extinguisher-FX340GW-2.jpg">
                        <p>
                            Figure 1. Wow very cool photos, they are the best photos ever taken. This just some text used to fil the page with. I dont really feel like writing Lorem Ipsum for the hundreth time... Damn, need to write some more to see how the text would look lite on two seperate rows. FML.
                        </p>
                    </div>
                    <p>
                        During the spring period of 2020, all our activities were switched to a digital format. Later, during the summer months, we got an exemption from digital education after presenting an action plan with extra safety measures to contain potential outbreaks. The plan included social distancing, extra cleaning stations, maximum number of people allowed per room and personal equipment like portable hand disinfectant or face shields. These measures were enforced not just in the lab but also in the lunchroom and group rooms. Team members suspecting any symptoms were encouraged to stay home. As one of the few courses exempted from the distance studies during summer we shared our feedback and concerns with the Biological Education center, department that coordinates all bachelor's and master's education in biology at Uppsala University to help organize courses returning to campus during autumn 2020 in the settings of a pandemic.
                    </p>
                    <p>                        
                        The waste disposal course was held by the safety officer on our campus. The course was composed of a tour around the waste disposal facilities in Uppsala University and a detailed demonstration about the correct labelling and transportations measures for laboratory waste-bins and chemical waste containers. At the end of the tour, each participant was given a diploma allowing them to handle all waste products that were produced in the lab.
                    </p>
                </div>
            </div>

            <!-- INSERT GOOGLE DOC CONTENT ABOVE THIS LINE -->

        </div>

        <script purpose="derive sidebar entries from user-generated content">
            //for each child of the 'INSERT CONTENT HERE' section
            let fgfuture_content=document.getElementById("fgfuture_content")
            for(let child_num=0;child_num<fgfuture_content.children.length;child_num++){
                let element=fgfuture_content.children[child_num]
                //check if first element is header element
                let header=element.children[0]
                if(header.tagName!="H1" || header.innerText.length==0){
                    window.alert("section "+element.id+" must have an <h1>Headline</h1> as first line!")
                }
                //get header text of this section
                header=header.innerText

                //insert horizontal line between header and text for that section
                let horizontal_seperator=document.createElement("hr")
                if(element.children.length>1){
                    element.insertBefore(horizontal_seperator,element.children[1])
                }else{
                    element.appendChild(horizontal_seperator)
                }

                //get the sidebar dom element
                let sidebar_list_container=document.getElementById("sidebar_list_container")

                //create the invisible span element at the beginning of the section that serves as 'sroll-to' anchor for the section
                let link_span=document.createElement("span")
                link_span.setAttribute("id","section"+child_num+"_link")
                element.insertBefore(link_span,element.children[0])

                //create sidebar entry for the current section/its header
                let new_element=document.createElement("li")
                let new_span=document.createElement("span")
                let new_a=document.createElement("a")
                new_a.setAttribute("href","#section"+child_num+"_link")
                new_a.innerText=header
                new_span.setAttribute("id","span"+child_num)
                new_span.appendChild(new_a)
                new_element.classList.add("sidebar_list_section")
                new_element.appendChild(new_span)

                //add created sidebar entry to the sidebar
                sidebar_list_container.appendChild(new_element)
            }
        </script>

        <script purpose="hightlight currently viewed section">
            let offsets={}
            let base=null;
            /* this code is executed on load */
            function get_section_offsets(){
                for(element of document.getElementById("fgfuture_content").children){
                    if(!base){
                        let offset=0;
                        
                        let current_element=element;
                        while(current_element){
                            offset+=current_element.offsetTop;
                            current_element=current_element.offsetParent;
                        }
                        base=offset;
                    }
                    offsets[element.id]=base
                    base+=element.clientHeight
                }
            }

            function highlight_current_section_in_sidebar(){
                let current_scroll=document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset

                let found=false
                let index=0
                for(element in offsets){
                    const subtracted_negative_screen_fraction=0.67
                    const added_positive_screen_fraction=0.15

                    let above_lower=(offsets[element]+document.getElementById(element).clientHeight-window.innerHeight*subtracted_negative_screen_fraction)>=current_scroll
                    let below_upper=offsets[element]>=(current_scroll+window.innerHeight*added_positive_screen_fraction)
                    let above_lowest=(offsets[element]+document.getElementById(element).clientHeight)<=current_scroll
                    let is_last_element_in_list=(index==(Object.keys(offsets).length-1))

                    if(and(above_lower, !found)||and(below_upper, above_lowest)||and(is_last_element_in_list, !found)){
                        if(found){
                            document.getElementById("sidebar_list_container").children[index-1].classList.remove("current_section")
                        }
                        found=element
                        document.getElementById("sidebar_list_container").children[index].classList.add("current_section")
                    }else{
                        document.getElementById("sidebar_list_container").children[index].classList.remove("current_section")
                    }
                    index+=1
                }
            }
        </script>

        <style purpose="popup">
            .popup{
                text-decoration: underline;
                color: blue;
            }
            .popup > span:not(.popup_content){
                cursor:pointer;
            }
            .popup_content{
                cursor:default;
                display:inline-block;
                color:black;
                position:fixed;
                width:20vh;
                margin-top:0.5vh;
                padding:1vh;
                transform:translateX(-50%);
                text-align: justify;
                z-index:10;
                background-color:white;
                border:0.2vh solid black;
            }
            .popup_content_header{
                font-size: 2.2vh;
            }
            .popup_content{
                font-size: 1.5vh;
            }
        </style>
        <script purpose="popup initiaiziation">
            for(element of document.getElementsByClassName("popup")){
                console.log(element.children)
                element.children[1].style.setProperty("display","none")
                element.children[1].innerHTML="<span class='popup_content_header'>"+element.children[0].innerText+"</span><br><br>"+element.children[1].innerHTML

                function open_popup(ev){
                    let element=ev.target
                    if(!element.classList.contains("popup")){
                        element=element.parentElement
                    }

                    if(element.getAttribute("vanish_timer")){
                        clearTimeout(element.getAttribute("vanish_timer"))
                    }

                    element.setAttribute("popped_up",true)
                    let element_bb=element.getBoundingClientRect()
                    element.children[1].style.setProperty("display","initial")
                    let left_offset=element_bb.x+(element_bb.width/2) // centering of popup happens in css
                    left_offset=max(element.children[1].getBoundingClientRect().width/2,left_offset) // make sure it does not leave the screen area to the left for text that is close to the left border
                    left_offset=min(window.innerWidth-(element.children[1].getBoundingClientRect().width/2),left_offset) // make sure the popup does not leave the screen area on the right
                    //the min/max caps above could probably be omitted on the wiki page since the main text area has enough padding on the left and right, but better to be safe than sorry (could also be adjusted to make sure the popup does not leave the text area, bu i do not think that it would a visual issue if it did)
                    element.children[1].style.setProperty("left",left_offset+"px")
                    element.children[1].style.setProperty("top",element_bb.bottom+"px")
                }
                function close_popup(ev){
                    let element=ev.target
                    if(!element.classList.contains("popup")){
                        element=element.parentElement
                    }

                    //small gap between link and popup content is not valid popup surface, to moving the mouse from the link to the popup content leaves the container area, which closes the popup
                    //this timeout means that the popup window is closed if the mouse is not positioned within the container area within 250ms after it left the area, ergo the popup remains visible while the mouse moves over the gap between the link and the popup
                    //and 250ms looks short enough to make it seem like the popup would still automatically vanish when the user leaves the popup area with the mouse actively, to move it somewhere else
                    element.setAttribute("vanish_timer",setTimeout(
                        ()=>{
                            element.setAttribute("popped_up",false)
                            element.children[1].style.setProperty("display","none")
                        },250
                    ))
                }

                element.addEventListener("mouseenter",open_popup)
                element.addEventListener("mouseleave",close_popup)
            }
        </script>

        <script purpose="expand images">
            let style_document=document.styleSheets[0].rules || document.styleSheets[0].cssRules
            let image_shrink_duration=0
            for (rule of style_document){
                if(rule.selectorText=="content_slice"){
                    width=window.innerWidth*rule.style.width.slice(0,-2)/100
                }
                if(rule.selectorText=="actualcontent"){
                    max_height=window.innerHeight*rule.style.height.slice(0,-1)/100
                }
                if(rule.selectorText==".image_shrink"){
                    image_shrink_duration=rule.style.getPropertyValue("animation-duration").slice(0,-1)*1000
                }
            }

            for(element of document.getElementsByClassName("expandable_image")){
                element.addEventListener("click",expand_image)
            }

            function expand_image(ev){
                let image_element=ev.target
                let image_overlay=document.getElementById("image_overlay")
                image_overlay.classList.remove("invisible")

                if(image_overlay.children.length==2){
                    image_overlay.removeChild(image_overlay.lastChild)
                }

                let big_image=document.createElement("img")
                big_image.setAttribute("src",image_element.src)
                big_image.classList.add("overlay_image")

                image_overlay.appendChild(big_image)

                big_image.style.setProperty("--width",image_element.getBoundingClientRect().width+"px")
                big_image.style.setProperty("--height",image_element.getBoundingClientRect().height+"px")
                big_image.style.setProperty("--left",image_element.getBoundingClientRect().left+image_element.width/2+"px")
                big_image.style.setProperty("--top",image_element.getBoundingClientRect().top+image_element.height/2+"px")

                let final_width=image_element.getAttribute("width")*0.5
                let final_height=image_element.getAttribute("height")*0.5

                big_image.style.setProperty("--left-end",window.innerWidth/2+"px")
                big_image.style.setProperty("--top-end",window.innerHeight/2+"px")

                big_image.style.setProperty("--overlay-width",final_width+"px")
                big_image.style.setProperty("--overlay-height",final_height+"px")

                big_image.classList.add("image_transition")

                image_element.classList.toggle("pseudo-invisible")

                image_overlay.image_element=image_element
                
                document.getElementById("pagecontent").classList.add("blurred_image_overlay")
            }
            function collapse_image(ev){
                let image_overlay=document.getElementById("image_overlay")

                image_overlay.children[1].classList.remove("image_transition")
                image_overlay.children[1].classList.add("image_shrink")

                document.getElementById("pagecontent").classList.remove("blurred_image_overlay")

                setTimeout(()=>{
                    document.getElementById("image_overlay").classList.add("invisible")
                    image_overlay.image_element.classList.toggle("pseudo-invisible")
                },image_shrink_duration)
            }
        </script>
        <style purpose="expand images">
            .expandable_image{
                cursor:zoom-in;
                z-index:1;
            }
            /*the actual overlay panel*/
            #image_overlay{
                position:fixed;

                left:0;
                /* top offset (which is subtracted from height) is height of igem bar and navigation bar*/
                top:calc(16px + 5vh);
                height:calc(100% - 16px - 5vh);
                width:100%;

                float:left;

                background-color: rgba(255,255,255,0.0);
                z-index: 11;
            }
            #image_overlay:not(.invisible){
                display:block; 
            }
            /*the image displayed within the overlay panel*/
            .overlay_image{
                position:relative;
                transform:translateX(-50%) translateY(-50%);
                width:var(--overlay-width);
                height:var(--overlay-height);
                left:var(--left-end);
                top:var(--top-end);
            }
            .image_transition{
                animation-name:into_center;
                animation-duration:0.4s;
            }
            .image_shrink{
                animation-name:from_center;
                animation-duration:0.4s;
            }
            .invisible{
                display:none;
            }
            .pseudo-invisible{
                opacity:0.0;
            }
            @keyframes into_center{
                from{
                    width:var(--width);
                    height:var(--height);
                    left:var(--left);
                    top:var(--top);
                }
                to{
                    width:var(--overlay-width);
                    height:var(--overlay-height);
                    left:var(--left-end);
                    top:var(--top-end);
                }
            }
            @keyframes from_center{
                from{
                    width:var(--overlay-width);
                    height:var(--overlay-height);
                    left:var(--left-end);
                    top:var(--top-end);
                }
                to{
                    width:var(--width);
                    height:var(--height);
                    left:var(--left);
                    top:var(--top);
                }
            }
            .one_vertical_image_padding{
                height:1em;
                width:100%;
            }
            img{
                display:block;
            }
        </style>

        <!-- sponsor and social media footer -->
        <div class="flexbox-container-socialmedia">
            <div><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1024px-Facebook_Logo_%282019%29.png"></div>
            <div><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/1024px-Instagram_logo_2016.svg.png"></div>
            <div><img class="upplogo"src="https://shop.uu.se/shop/ws45/82845/files/UU_logo_vit.png"></div>
            <div><img src="https://upload.wikimedia.org/wikipedia/commons/e/ec/Circle-icons-mail.svg"></div>
            <div><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Linkedin_icon.svg/480px-Linkedin_icon.svg.png"></div>
        </div>

        <div class="grid-container-sponsors">
            <div><img src="https://2021.igem.org/wiki/images/8/8b/T--Uppsala--utnlogo.png"></div>
            <div><img src="http://2014.igem.org/wiki/images/5/5a/York_Genscript_logo-1-.png"></div>
            <div><img src="https://2020.igem.org/wiki/images/0/05/T--UofUppsala--pro.png"></div>
            <div><img src="https://2021.igem.org/wiki/images/f/fc/T--Uppsala--bioradlogo.png"></div>
            <div><img src="https://2021.igem.org/wiki/images/2/29/T--Uppsala--bionordikalogo.png"></div>
            <div><img src="https://2021.igem.org/wiki/images/9/9a/T--Uppsala--mercklogo.png"></div>
            <div><img src="https://2021.igem.org/wiki/images/f/fa/T--Uppsala--scbtlogo.png"></div>
            <div><img src="https://2020.igem.org/wiki/images/8/8c/T--UofUppsala--snap.png"></div>
            <div><img src="https://2020.igem.org/wiki/images/a/a4/T--UofUppsala--euro.png"></div>
            <div><img src="https://upload.wikimedia.org/wikipedia/commons/1/12/New_Harvest_Full_Logo_-_RGB_.png"></div>
            <div><img src="https://testacenter.com/wp-content/uploads/2019/08/TestaCenter_LogoWithTagline_Pantone.png"></div>
            <div><img src="https://cdn.cytivalifesciences.com/dmm3bwsv3/AssetStream.aspx?mediaformatid=10061&destinationid=10016&assetid=32945"></div>
        </div>
    </body>
</html>
